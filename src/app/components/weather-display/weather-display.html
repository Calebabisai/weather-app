<!-- Cargando -->
@if (isLoading()) {
    <div>
        <p>Cargando...</p>
    </div>
}

<!-- Error -->
@if (!isLoading() && error()) {
    <div>
        <p class="error">{{ error() }}</p>
    </div>
}

<!-- Datos del clima -->
@if (!isLoading() && weatherData(); as weath) {
    <div>
        <div class="weather-card">
            <h2>{{ weath.city }}, {{ weath.country }}</h2>

            <div class="main">
                @if (weath.icon) {
                    <img
                        [src]="'https://openweathermap.org/img/wn/' + weath.icon + '@2x.png'"
                        [alt]="weath.description"
                    />
                }
                <div class="temps">
                    <p class="temp">{{ weath.temp }}°C</p>
                    <p class="feels">Sensación: {{ weath.feelsLike }}°C</p>
                </div>
            </div>

            <p class="desc">{{ weath.description | titlecase }}</p>

            <ul class="details">
                <li>Humedad: {{ weath.humidity }}%</li>
                <li>Viento: {{ weath.windSpeed }} m/s</li>
                <li>Última consulta: {{ weath.timestamp | date:'short' }}</li>
            </ul>
        </div>
    </div>
} @else {
    @if (!isLoading() && !error()) {
        <div>
            <p>Busca una ciudad para ver el clima.</p>
        </div>
    }
}